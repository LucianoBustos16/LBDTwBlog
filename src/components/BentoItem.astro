---
import { getCollection } from "astro:content";


const allPosts = await getCollection("posts");

---

{allPosts.slice(0, 4).map((post, index) => (
    <article
        class={`
            ${Astro.props.class}
            relative rounded-xl
            backdrop-blur-md
            border border-white/10
            col-span-10
            overflow-hidden
            group
            ${index === 0 || index === 3 ? 'md:col-span-6' : 'md:col-span-4'}
        `}>

        <div class="absolute -z-10 bottom-0 top-0 w-full h-full
                bg-gradient-to-b from-transparent from-40% via-black/20 to-black/80">
        </div>

        <img src={post.data.image.url} alt={post.data.image.alt} 
            class="absolute left-0 bottom-0 object-cover w-full h-full object-center -z-20
            group-hover:scale-110 transition-scale duration-500 ease-in-out" >

        <div class="relative select-none flex flex-col gap-1 p-6 text-lg justify-end h-full">
            <h2 class="font-bold text-balance text-white mb-4">{post.data.title}</h2>
            <p>{post.data.author}</p>         
        </div>
    

    </article>
))}

